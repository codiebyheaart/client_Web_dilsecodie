
<!DOCTYPE html>
<html lang="en"> 
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XJMN793VCY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XJMN793VCY');
</script>

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '283118113795902');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=283118113795902&ev=PageView&noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://dilsecodie.com/index.php">

	
<meta property="og:site_name" content="Dilse Codie">

<meta property="og:url" content="https://dilsecodie.com">
<meta property="og:type" content="website">
<meta itemprop="name" content="dilse Codie">
<meta itemprop="url" content="https://dilsecodie.com">
<meta name="keywords" content="artificial intelligence,chatbot,bot,voicebot,messagebot,instagrambot,facebook bot,simple,python bot,AI,ML,NLP,datascience">
<meta name="description" content="what is artificial intelligence , what to create chat bot , what is voice bot 
, how to make chat bot , what is AI , what is ML , what is NLP , why to use ai ,AI algorithm is an extended subset of machine learning 
,Artificial Neural Networks,learning algorithm that is being used by the healthcare industry,Random Forest,Logistic Regression
Machine learning and artificial intelligence are both sets of algorithms,Why are algorithms called algorithms? It's thanks to Persian mathematician Muhammad al-Khwarizmi
Google Panda algorithm,data ,Data science is an interdisciplinary field, data struture ,Healthcare ,Fraud and Risk Detection, Airline Route Planning,
Identification and prediction of disease, Optimizing shipping and logistics routes in real-time">
<meta name="author" content="http://dilsecodie.com">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta name="google-site-verification" content="Qz0dVd5nxe4xl75XP5Nc75Keo-dtO4UqwOUMQxHEP5o">
<title>How to create chat bot | AI |BOT|ML |Artificial intelligence (AI)  </title>
 
	<link rel="shortcut icon" type="image/x-icon" href="https://dilsecodie.com/index.php">
	<link rel="apple-touch-icon" href="https://dilsecodie.com/index.php">
  <link rel="dns-prefetch" href="//maps.googleapis.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//s.w.org">
<link rel="alternate" type="application/rss+xml" title="dilse Codie » Java" href="https://dilsecodie.com/index.php">
<link rel="alternate" type="application/rss+xml" title="dilse Codie » Java  Coding" href="https://dilsecodie.com/index.php">
<link rel="alternate" type="application/rss+xml" title="dilse Codie » Home  Tutorials" href="https://dilsecodie.com/index.php"
<!-- bootstrap -->
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

<!-- animate -->
<link rel="stylesheet" type="text/css" href="css/animate.css">

<!-- owl-carousel -->
<link rel="stylesheet" type="text/css" href="css/owl.carousel.css">

<!-- fontawesome -->
<link rel="stylesheet" type="text/css" href="css/font-awesome.css">

<!-- themify -->
<link rel="stylesheet" type="text/css" href="css/themify-icons.css">

<!-- flaticon -->
<link rel="stylesheet" type="text/css" href="css/flaticon.css">

<!-- prettyphoto -->
<link rel="stylesheet" type="text/css" href="css/prettyPhoto.css">

<!-- shortcodes -->
<link rel="stylesheet" type="text/css" href="css/shortcodes.css">

<!-- main -->
<link rel="stylesheet" type="text/css" href="css/main.css">

<!-- responsive -->
<link rel="stylesheet" type="text/css" href="css/responsive.css">
<link href="prism/prism.min.css" rel="stylesheet">
        <link href="code-box-copy/css/code-box-copy.css" rel="stylesheet">
        <script src="js/jquery.min.js"></script>
        <script src="prism/prism.min.js"></script>
        <script src="clipboard/clipboard.min.js"></script>
        <script src="code-box-copy/js/code-box-copy.js"></script>
</head>

<body>

    <!--page start-->
    <div class="page sidebar-true">

        
        <?php include('header.php'); ?>

        <!-- page-title -->
         

    <!--site-main start-->
    <div class="site-main">
        <!-- sidebar -->
        <div class="sidebar ttm-sidebar-right ttm-bgcolor-white clearfix">
            <div class="container">
                <!-- row -->
                <div class="row d-block">
                    <div class="col-lg-9 content-area pull-left">
                        <!-- ttm-blog-classic-->

                   
                        <article class="post ttm-blog-classic">
                           <div class="featured-imagebox featured-imagebox-post">
                                <div class="featured-thumbnail">
                                    <img class="img-fluid" src="images/subimage/artificialintelligencechatbot.jpg" alt="">
                                    <div class="featured-icon">
                                        <div class="ttm-icon ttm-icon_element-fill ttm-icon_element-background-color-skincolor ttm-icon_element-size-xs">
                                            <a href= "" onclick="printDiv();" ><i class="ti ti-pencil"></i></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="featured-content featured-content-post">
                                    <div class="post-meta">
                                        
                                    </div>
                                    <div class="separator">
                                        <div class="sep-line solid mt-10 mb-20"></div>
                                    </div>
                                    <div class="featured-desc"><h3>Create Your Own Chatbot</h3>
                                   <div class="code-box-copy">
    <button class="code-box-copy__btn" data-clipboard-target="#example-html" title="Copy"></button>
    <pre><code class="language-html" id="example-html"> 
import pandas as pd<br>
from sklearn.metrics.pairwise import cosine_similarity<br>
from sklearn.feature_extraction.text import CountVectorizer<br>
from sklearn.feature_extraction.text import TfidfVectorizer<br>
from nltk.corpus import stopwords<br>
import random<br>
import json<br>
import pickle<br>
import numpy as np<br>
import string<br>
import timeit<br>
import csv<br>

import nltk<br>
from nltk.stem import WordNetLemmatizer<br>


class AIChatbot:<br>

    def clean_up_sentence(self, sentence):<br>
        lemmatizer = WordNetLemmatizer()<br>
        sentence_words = nltk.word_tokenize(sentence)<br>
        sentence_words = [lemmatizer.lemmatize(word) for word in sentence_words]<br>
        return sentence_word<br>


    def train_chat(self, json_file_path, tfidf_vectorizer_pikle_path , tfidf_matrix_train_pikle_path):<br>
        

        questions = []<br>
        with open(json_file_path,'r') as data:<br>
            for line in csv.reader(data):<br>
                questions.append(line[0])<br>
        
        start = timeit.default_timer()<br>

        tfidf_vectorizer = TfidfVectorizer()<br>
        tfidf_matrix_train = tfidf_vectorizer.fit_transform(questions)<br>
        y = tfidf_matrix_train.toarray()<br>

        stop = timeit.default_timer()<br>
        print ("training time took was : ")<br>
        print (stop - start)<br>
       
        f = open(tfidf_vectorizer_pikle_path, 'wb')<br>
        pickle.dump(tfidf_vectorizer, f)<br>
        f.close()<br>

        f = open(tfidf_matrix_train_pikle_path, 'wb')<br>
        pickle.dump(tfidf_matrix_train, f)<br>
        f.close()<br>

        return tfidf_vectorizer , tfidf_matrix_train<br>
       


    def talk_to_cb_primary(self, message, minimum_score, tfidf_vectorizer_pikle_path ,tfidf_matrix_train_pikle_path):<br>
    
        json_file_path = "/root/chatbot/path/QA-WA.csv"<br>
 
        tfidf_vectorizer_pikle_path = "/root/chatbot/contents/ai_vectorizer.pickle"<br>
        tfidf_matrix_train_pikle_path ="/root/chatbot/contents/ai_matrix_train.pickle"<br>

        test_set = (message, "")
        <br>
        try:<br>
            
            f = open(tfidf_vectorizer_pikle_path, 'rb')<br>
            tfidf_vectorizer = pickle.load(f)<br>
            f.close()<br>

            f = open(tfidf_matrix_train_pikle_path, 'rb')<br>
            tfidf_matrix_train = pickle.load(f)<br>
            f.close()<br>

        except:<br>
            # ---------------to train------------------#<br>
            tfidf_vectorizer , tfidf_matrix_train = self.train_chat(json_file_path , tfidf_vectorizer_pikle_path , tfidf_matrix_train_pikle_path)<br>

        tfidf_matrix_test = tfidf_vectorizer.transform(test_set).toarray()<br>
        cosine = cosine_similarity(tfidf_matrix_test, tfidf_matrix_train)<br>
        max1 = cosine.max()<br>
        response_index = 0<br>

        if (max1 > minimum_score):<br>

            row1 = cosine[0]<br>

            response_index = np.where(row1 == max1)<br>

            count = 0<br>
            with open(json_file_path, "r") as data :<br>
                for line in csv.reader(data, delimiter='"'):<br>
                    if count == response_index[0][0]:<br>
                   # print(line[0], line[1])<br>
                        return line[1]<br>
                    else:<br>
                        count = count + 1<br>
        
        else:<br>
     
            return "If you want to connect to our agent, Please reply with Y or Yes."<br>
            
        count = 0<br>
        with open(json_file_path, "r") as data :<br>
            for line in csv.reader(data, delimiter='"'):<br>
                if count == response_index[0][0]:<br>
                    return line[1]<br>
                else:<br>
                    count = count + 1<br>
   
    def previous_chats(self, query):<br>
        minimum_score = 0.55<br>

        tfidf_vectorizer_pikle_path = "aii_previous_vectorizer.pickle"<br>
        tfidf_matrix_train_path = "aii_previous_matrix_train.pickle"<br>
        query_response= self.talk_to_cb_primary(query , minimum_score , tfidf_vectorizer_pikle_path , tfidf_matrix_train_path)<br>
        return query_response<br>

    def runbot(self, msg):<br>
        return self.previous_chats(msg)<br>



    

	</code>
	
	
	</pre>
</div>
                                       
                                      
                                    </div>
                                </div>
                            </div>
                             
                        </article>
<!-- 
                        <script type="text/javascript">

function printDiv() {

    let token = encodeURIComponent();
    alert(token);
    var a = window.open("", "", "height=500, width=500");
      a.document.write("<html><body>");

      a.document.write("Copy Script Paste In your Project !" + "<br><br>");
      a.document.write(token + "<br>");
      a.document.write("</body></html>");
      a.document.close();

}
    </script> -->
                       
                        <!-- ttm-blog-classic end -->
                    </div>
                   
                </div><!-- row end -->

            </div>
        </div>
        <!-- sidebar end -->
    </div><!--site-main end-->

    <!--footer start-->
   <?php include('footer.php');  ?>
    <!--footer end-->

    <!--back-to-top start-->
    <a id="totop" href="#top">
        <i class="fa fa-angle-up"></i>
    </a>
    <!--back-to-top end-->

</div><!-- page end -->


    <!-- Javascript -->
 
    <script src="js/tether.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.js"></script>    
    <script src="js/jquery-waypoints.js"></script>    
    <script src="js/jquery-validate.js"></script> 
    <script src="js/owl.carousel.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>
    <script src="js/numinate.min.js?ver=4.9.3"></script>
    <script src="js/main.js"></script>
    <script src="js/chart.js"></script>
    <script>
            $('.code-box-copy').codeBoxCopy({
                tooltipText: 'Copied',
                tooltipShowTime: 1000,
                tooltipFadeInTime: 300,
                tooltipFadeOutTime: 300
            });
        </script>

    <!-- Javascript end-->

</body> 
</html>